<html>
  <head>
    <title>{{title}}</title>
    <style>
      table, th, td
      {
        border:1px solid black;
        padding:1px;
      }
      table
      {
        border-spacing:0px;
      }
    </style>
  </head>
  <body>
      <h1>{{title}}</h1>
      <h2>Result count: {{ count }}</h2>
      <table style="width:900px">
            <tr>
              {% for header in headers %}
              <th>{{header}}</th>
              {% endfor %}
            </tr>
            {% for result in results %}
            <tr>
              {% for header in headers %}
              <td>{{result[header]}}</td>
              {% endfor %}
            </tr>
            {% endfor %}         
      </table>

      {% macro render_pagination(pagination) %}
        <div class=pagination>
        {% if pagination.has_prev %}
        <a href="{{ url_for_other_page(pagination.page - 1)
          }}">&laquo;Previous</a>
        {% endif %}

        {%- for page in pagination.iter_pages() %}
          {% if page %}
            {% if page != pagination.page %}
              <a href="{{ url_for_other_page(page) }}">{{ page }}</a>
            {% else %}
              <strong>{{ page }}</strong>
            {% endif %}
          {% else %}
            <span class=ellipsis>â€¦</span>
          {% endif %}
        {%- endfor %}
        
        {% if pagination.has_next %}
        <a href="{{ url_for_other_page(pagination.page + 1)
          }}">Next &raquo;</a>
        {% endif %}
        </div>
      {% endmacro %}

      {{ render_pagination(pagination) }}
  </body>
</html>
